<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flappy Square – mini joc web</title>
  <link rel="stylesheet" href="../style/flappy.css" />
  <link rel="icon" type="image/x-icon" href="../images/favicon.ico" />
  <meta name="description" content="A simple and fast Flappy-style mini web game." />
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <h1>Flappy Square</h1>
        <div>
          <a class="btn" href="../index.html">Înapoi</a>
          <button class="btn" id="restart" type="button">Reîncepe</button>
          <button class="btn" id="setari" type="button">Setari</button>
        </div>
      </header>

      <div id="settingsPopover" class="settings-popover" aria-hidden="true">
        <div class="settings-row">
          <span>Sunet</span>
          <button class="audio-toggle" id="audioToggle" type="button" data-state="on" aria-label="Audio toggle">
            <span>On</span>
            <span>Off</span>
            <i class="knob" aria-hidden="true"></i>
          </button>
        </div>

        <div class="settings-row">
          <label for="squareColorBtn">Pătrat</label>
          <button class="color-btn" id="squareColorBtn" type="button" aria-haspopup="true" aria-expanded="false">
            <span class="swatch" id="squareSwatch"></span>
            <span class="label">Color</span>
          </button>
        </div>

        <div class="settings-row">
          <label for="pipesColorBtn">Țevi</label>
          <button class="color-btn" id="pipesColorBtn" type="button" aria-haspopup="true"  aria-expanded="false">
            <span class="swatch" id="pipesSwatch"></span>
            <span class="label">Color</span>
          </button>
        </div>

        <div class="settings-row">
          <label for="bgColorBtn">Fundal</label>
          <button class="color-btn" id="bgColorBtn" type="button" aria-haspopup="true" aria-expanded="false">
            <span class="swatch" id="bgSwatch"></span>
            <span class="label">Color</span>
          </button>
        </div>

        <div class="settings-row"> 
          <label for="starsColorBtn">Stele</label>
          <button class="color-btn" id="starsColorBtn" type="button" aria-haspopup="true" aria-expanded="false">
            <span class="swatch" id="starsSwatch"></span>
            <span class="label">Color</span>
          </button>
        </div>

        <div id="colorPanel" class="color-panel" aria-hidden="true">
          <div class="cp-main">
            <canvas id="cpSV" width="140" height="96" aria-label="Saturation/Value"></canvas>
            <canvas id="cpHue" width="12" height="96" class="cp-hue" aria-label="Hue"></canvas>
          </div>
          <div class="cp-fields">
            <label>R<input id="cpR" type="number" min="0" max="255"></label>
            <label>G<input id="cpG" type="number" min="0" max="255"></label>
            <label>B<input id="cpB" type="number" min="0" max="255"></label>
            <label>#<input id="cpHex" type="text" maxlength="7" placeholder="#E11313"></label>
            <button id="cpOk" class="btn small" type="button">OK</button>
          </div>
        </div>
      </div>

      <div class="content">
        <canvas id="game" width="640" height="420" aria-label="Canvas joc"></canvas>
        <div class="hud">
          <div class="stat">
            Score: <strong id="score" aria-live="polite">0</strong>
            &middot; Best: <strong id="best">0</strong>
            &middot; Nivel: <strong id="level">Ușor</strong>
          </div>
          <div class="stat">
            Controale: <span class="kbd">Space</span> / click / atingere &middot; <span class="kbd">P</span> pauză
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="../script/rgb_panel.js" defer></script>
  <script>
    const lang = (localStorage.getItem('lang') || 'en').toLowerCase();
    const script = document.createElement('script');
    script.src = lang === 'ro' ? '../script/flappy_ro.js' : '../script/flappy_en.js';
    script.defer = true;
    document.body.appendChild(script);
  </script>
</body>
</html>