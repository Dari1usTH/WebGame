:root {
  --bg: #0f1226;
  --fg: #e6e9ff;
  --acc: #7aa2ff;
  --muted: #8a90b4;
}

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
  background: radial-gradient(1200px 600px at 20% 10%, #1a1e42 0%, var(--bg) 55%);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif;
  color: var(--fg);
}

.wrap {
  display: flex;
  min-height: 100%;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

.card {
  width: min(680px, 100%);
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(6px);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  overflow: hidden;
}

header {
  padding: 18px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

header h1 {
  font-size: 18px;
  margin: 0;
  letter-spacing: 0.3px;
}

.btn,
.btn:link,
.btn:visited {
  display: inline-block;
  appearance: none;
  text-decoration: none;
  border: 1px solid rgba(255, 255, 255, 0.15);
  background: transparent;
  color: var(--fg);
  padding: 8px 12px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
  font-family: inherit;
  font-size: 14px;
  line-height: 1;
  min-width: 100px;
  text-align: center;
}

.btn:hover {
  border-color: var(--acc);
  box-shadow: 0 0 0 2px rgba(122, 162, 255, 0.15);
}

.content {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  padding: 16px;
}

canvas {
  width: 100%;
  height: 420px;
  background: linear-gradient(180deg, #0b0e22 0%, #070918 100%);
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  display: block;
}

.hud {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
}

.stat {
  color: var(--muted);
  font-size: 14px;
}

.kbd {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  background: #15183a;
  color: #c7d2fe;
  border: 1px solid rgba(255, 255, 255, 0.12);
  padding: 2px 6px;
  border-radius: 6px;
}

footer {
  padding: 6px 16px 16px;
  color: #d0d0d0;
  font-size: 13px;
  text-align: center;
}

footer a {
  color: #d0d0d0;
  text-decoration: none;
}

footer a:hover {
  color: #ffffff;
  text-decoration: underline;
}

.mobile {
  display: none;
}

@media (max-width: 520px) {
  canvas { height: 360px; }
  .mobile { display: block; }
}

.settings-popover{
  position: absolute;
  right: 16px;
  top: 64px;
  min-width: 150px;
  padding: 14px;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  background: rgba(15,18,38,.9);
  backdrop-filter: blur(6px);
  box-shadow: 0 10px 40px rgba(0,0,0,.35);
  display: none;
  z-index: 40;
}
.settings-popover[data-open="true"]{ display:block; }
.settings-row{
  display: flex;
  align-items: center;
  justify-content: flex-end; 
  gap: 8px;                   
  padding: 6px 10px;
  color: rgba(230,233,255,.9);
  font-size: 13px;
}

.audio-toggle{
  position: relative;
  display: inline-grid;
  grid-template-columns: 1fr 1fr;
  width: 84px; height: 28px;
  padding: 0; border: 1px solid rgba(255,255,255,.14);
  border-radius: 999px; background: rgba(255,255,255,.04);
  color: var(--fg, #e6e9ff); font-weight: 800; font-size: 11px;
  cursor: pointer; -webkit-tap-highlight-color: transparent;
}
.audio-toggle span{ text-align:center; z-index:2; user-select:none; line-height: 28px; }
.audio-toggle .knob{
  position:absolute; top:3px; left:3px; width:38px; height:22px;
  border-radius:999px;
  background: linear-gradient(180deg, #7aa2ff, #5a82ff);
  box-shadow: 0 0 22px rgba(122,162,255,.35);
  transition: transform .25s ease;
}
.audio-toggle[data-state="off"] .knob{ transform: translateX(40px); }

.audio-toggle:focus{ outline:none; }
.audio-toggle:focus-visible{
  outline:2px solid rgba(122,162,255,.6); outline-offset:2px;
}
.card { position: relative; }

.settings-row label { cursor: default; }

.color-btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border:1px solid rgba(255,255,255,.14);
  border-radius:10px; background:rgba(255,255,255,.04);
  color:var(--fg); font-weight:700; font-size:12px; cursor:pointer;
}
.color-btn .swatch{
  width:18px; height:18px; border-radius:6px;
  border:1px solid rgba(255,255,255,.25);
}

.color-panel{
  margin-top:8px;
  padding:8px 10px; border:1px solid rgba(255,255,255,.14);
  border-radius:12px; background:rgba(15,18,38,.9);
  box-shadow:0 10px 40px rgba(0,0,0,.35);
  display:none;
  width: max-content;
}
.color-panel[aria-hidden="false"]{ display:block; }

.cp-main{ display:flex; align-items:center; gap:6px; }
#cpSV{ border-radius:8px; border:1px solid rgba(255,255,255,.12); display:block; }
#cpHue{ border-radius:8px; border:1px solid rgba(255,255,255,.12); display:block; }

.cp-fields{
  display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; align-items:center;
}
.cp-fields label{ display:flex; align-items:center; gap:6px; color:#cfd3ff; font-size:12px; }
.cp-fields input[type="number"]{
  width:64px; padding:6px 8px; border-radius:8px; border:1px solid rgba(255,255,255,.14);
  background:#15183a; color:#e6e9ff; font-size:12px;
}
#cpHex{
  width:96px; padding:6px 8px; border-radius:8px; border:1px solid rgba(255,255,255,.14);
  background:#15183a; color:#e6e9ff; font-size:12px; text-transform:uppercase;
}
.btn.small{ padding:6px 10px; min-width:auto; font-size:12px; }
